<apex:page standardController="Opportunity">
  <apex:form >
    <apex:pageBlock >
      <apex:pageBlockTable value="{!Opportunity}" var="opp" columnClasses="item, level, units, cost" rows="2">
        <tr>
          <th colspan="3">Line Item</th>
        </tr>
        <tr>
          <apex:column headerValue="Line Item" styleClass="item" width="75">
            <apex:outputLabel value="Soft Costs:" />
          </apex:column>
          <apex:column headerValue="Level of Work" styleClass="level" width="75">
            <apex:selectList value="{!Opportunity.Soft_Costs__c}" size="1">
              <apex:actionSupport event="onchange" rerender="theSoftCosts, totalCostPanel" />
              <apex:selectOption itemLabel="None" itemValue="0" />
              <apex:selectOption itemLabel="Low" itemValue="Low" />
              <apex:selectOption itemLabel="Medium" itemValue="Medium" />
              <apex:selectOption itemLabel="High" itemValue="High" />
            </apex:selectList>
          </apex:column>
          <apex:column headerValue="# of Units" styleClass="units" width="75">
            <apex:outputLabel value="" />
          </apex:column>
          <apex:column headerValue="Cost" styleClass="cost" width="75">
            <apex:outputPanel id="theSoftCosts">
              <apex:outputText rendered="{!Opportunity.Soft_Costs__c == 'None'}" value="$0" />
              <apex:outputText rendered="{!Opportunity.Soft_Costs__c == 'Low'}" value="$1,500" />
              <apex:outputText rendered="{!Opportunity.Soft_Costs__c == 'Medium'}" value="$3,000" />
              <apex:outputText rendered="{!Opportunity.Soft_Costs__c == 'High'}" value="$5,000" />
            </apex:outputPanel>
          </apex:column>
        </tr>
      </apex:pageBlockTable>
      
      <apex:pageBlockTable value="{!Opportunity}" var="opp" columnClasses="item, level, units, cost" rows="2">
        <tr>
          <apex:column styleClass="item" width="75">
            <apex:outputLabel value="Demo:" />
          </apex:column>
          <apex:column styleClass="level" width="75">
            <apex:selectList value="{!Opportunity.Demo__c}" size="1">
              <apex:actionSupport event="onchange" rerender="theDemoCosts, totalCostPanel" />
              <apex:selectOption itemLabel="None" itemValue="0" />
              <apex:selectOption itemLabel="Low" itemValue="Low" />
              <apex:selectOption itemLabel="Medium" itemValue="Medium" />
              <apex:selectOption itemLabel="High" itemValue="High" />
            </apex:selectList>
          </apex:column>
          <apex:column styleClass="units" width="75">
          </apex:column>
          <apex:column styleClass="cost" width="75">
            <apex:outputPanel id="theDemoCosts">
              <apex:outputText rendered="{!Opportunity.Demo__c == 'None'}" value="$0" />
              <apex:outputText rendered="{!Opportunity.Demo__c == 'Low'}" value="${0,number,#,##0}">
                  <apex:param value="{!ROUND(Opportunity.Sqft__c * 2.0,0)}" />
              </apex:outputText>
              <apex:outputText rendered="{!Opportunity.Demo__c == 'Medium'}" value="${0,number,#,##0}">
                  <apex:param value="{!ROUND(Opportunity.Sqft__c * 3.0,0)}" />
              </apex:outputText>
              <apex:outputText rendered="{!Opportunity.Demo__c == 'High'}" value="${0,number,#,##0}">
                  <apex:param value="{!ROUND(Opportunity.Sqft__c * 4.0,0)}" />
              </apex:outputText>
            </apex:outputPanel>
          </apex:column>
        </tr>
      </apex:pageBlockTable>
      
      <apex:pageBlockTable value="{!Opportunity}" var="opp" columnClasses="item, level, units, cost" rows="2">
        <tr>
          <apex:column styleClass="item" width="75">
            <apex:outputLabel value="Foundation:" />
          </apex:column>
          <apex:column styleClass="level" width="75">
            <apex:selectList value="{!Opportunity.Foundation__c}" size="1">
              <apex:actionSupport event="onchange" rerender="theFoundationCosts" />
              <apex:selectOption itemLabel="None" itemValue="0" />
              <apex:selectOption itemLabel="Low" itemValue="Low" />
              <apex:selectOption itemLabel="Medium" itemValue="Medium" />
              <apex:selectOption itemLabel="High" itemValue="High" />
            </apex:selectList>
          </apex:column>
          <apex:column styleClass="units" width="75">
          </apex:column>
          <apex:column styleClass="cost" width="75">
            <apex:outputPanel id="theFoundationCosts">
              <apex:outputText rendered="{!Opportunity.Foundation__c == 'None'}" value="$0" />
              <apex:outputText rendered="{!Opportunity.Foundation__c == 'Low'}" value="${0,number,#,##0}">
                  <apex:param value="{!ROUND(Opportunity.Sqft__c * 1.5,0)}" />
              </apex:outputText>
              <apex:outputText rendered="{!Opportunity.Foundation__c == 'Medium'}" value="${0,number,#,##0}">
                  <apex:param value="{!ROUND(Opportunity.Sqft__c * 4.5,0)}" />
              </apex:outputText>
              <apex:outputText rendered="{!Opportunity.Foundation__c == 'High'}" value="${0,number,#,##0}">
                  <apex:param value="{!ROUND(Opportunity.Sqft__c * 15.0,0)}" />
              </apex:outputText>
            </apex:outputPanel>
          </apex:column>
        </tr>
      </apex:pageBlockTable>
      
      <apex:pageBlockTable value="{!Opportunity}" var="opp" columnClasses="item, level, units, cost" rows="2">
        <tr>
          <apex:column styleClass="item" width="75">
            <apex:outputLabel value="Roof:" />
          </apex:column>
          <apex:column styleClass="level" width="75">
            <apex:selectList value="{!Opportunity.Roof__c}" size="1">
              <apex:actionSupport event="onchange" rerender="theRoofCosts" />
              <apex:selectOption itemLabel="None" itemValue="0" />
              <apex:selectOption itemLabel="Low" itemValue="Low" />
              <apex:selectOption itemLabel="Medium" itemValue="Medium" />
              <apex:selectOption itemLabel="High" itemValue="High" />
            </apex:selectList>
          </apex:column>
          <apex:column styleClass="units" width="75">
          </apex:column>
          <apex:column styleClass="cost" width="75">
            <apex:outputPanel id="theRoofCosts">
              <apex:outputText rendered="{!Opportunity.Roof__c == 'None'}" value="$0" />
              <apex:outputText rendered="{!Opportunity.Roof__c == 'Low'}" value="$1,000" />
              <apex:outputText rendered="{!Opportunity.Roof__c == 'Medium'}" value="$8,000" />
              <apex:outputText rendered="{!Opportunity.Roof__c == 'High'}" value="$15,000" />
            </apex:outputPanel>
          </apex:column>
        </tr>
      </apex:pageBlockTable>
      
      <apex:pageBlockTable value="{!Opportunity}" var="opp" columnClasses="item, level, units, cost" rows="2">
        <tr>
          <apex:column styleClass="item" width="75">
            <apex:outputLabel value="Gutters:" />
          </apex:column>
          <apex:column styleClass="level" width="75">
            <apex:selectList value="{!Opportunity.Gutters__c}" size="1">
              <apex:actionSupport event="onchange" rerender="theGutterCosts" />
              <apex:selectOption itemLabel="None" itemValue="0" />
              <apex:selectOption itemLabel="Low" itemValue="Low" />
              <apex:selectOption itemLabel="Medium" itemValue="Medium" />
              <apex:selectOption itemLabel="High" itemValue="High" />
            </apex:selectList>
          </apex:column>
          <apex:column styleClass="units" width="75">
          </apex:column>
          <apex:column styleClass="cost" width="75">
            <apex:outputPanel id="theGutterCosts">
              <apex:outputText rendered="{!Opportunity.Gutters__c == 'None'}" value="$0" />
              <apex:outputText rendered="{!Opportunity.Gutters__c == 'Low'}" value="$500" />
              <apex:outputText rendered="{!Opportunity.Gutters__c == 'Medium'}" value="$1,500" />
              <apex:outputText rendered="{!Opportunity.Gutters__c == 'High'}" value="$3,000" />
            </apex:outputPanel>
          </apex:column>
        </tr>
      </apex:pageBlockTable>
      
      <apex:pageBlockTable value="{!Opportunity}" var="opp" columnClasses="item, level, units, cost" rows="2">
        <tr>
          <apex:column styleClass="item" width="75">
            <apex:outputLabel value="HVAC and Water Heater:" />
          </apex:column>
          <apex:column styleClass="level" width="75">
            <apex:selectList value="{!Opportunity.HVAC_and_Water_Heater__c}" size="1">
              <apex:actionSupport event="onchange" rerender="theHVACandWaterHeaterCosts" />
              <apex:selectOption itemLabel="None" itemValue="0" />
              <apex:selectOption itemLabel="Low" itemValue="Low" />
              <apex:selectOption itemLabel="Medium" itemValue="Medium" />
              <apex:selectOption itemLabel="High" itemValue="High" />
            </apex:selectList>
          </apex:column>
          <apex:column styleClass="units" width="75">
          </apex:column>
          <apex:column styleClass="cost" width="75">
            <apex:outputPanel id="theHVACandWaterHeaterCosts">
              <apex:outputText rendered="{!Opportunity.HVAC_and_Water_Heater__c == 'None'}" value="$0" />
              <apex:outputText rendered="{!Opportunity.HVAC_and_Water_Heater__c == 'Low'}" value="$2,000" />
              <apex:outputText rendered="{!Opportunity.HVAC_and_Water_Heater__c == 'Medium'}" value="$3,500" />
              <apex:outputText rendered="{!Opportunity.HVAC_and_Water_Heater__c == 'High'}" value="$8,000" />
            </apex:outputPanel>
          </apex:column>
        </tr>
      </apex:pageBlockTable>
      
      <apex:pageBlockTable value="{!Opportunity}" var="opp" columnClasses="item, level, units, cost" rows="2">
        <tr>
          <apex:column styleClass="item" width="75">
            <apex:outputLabel value="Windows:" />
          </apex:column>
          <apex:column styleClass="level" width="75">
            <apex:selectList value="{!Opportunity.Windows__c}" size="1">
              <apex:actionSupport event="onchange" rerender="theWindowCosts" />
              <apex:selectOption itemLabel="None" itemValue="0" />
              <apex:selectOption itemLabel="Low" itemValue="Low" />
              <apex:selectOption itemLabel="Medium" itemValue="Medium" />
              <apex:selectOption itemLabel="High" itemValue="High" />
            </apex:selectList>
          </apex:column>
          <apex:column styleClass="units" width="75">
              <apex:inputText value="{!Opportunity.Windows__c}" size="3" onchange="updateCost(this);" />
          </apex:column>
          <apex:column styleClass="cost" width="75">
            <apex:outputPanel id="theWindowCosts">
              <apex:outputText value="{!Opportunity.WindowCost__c}">
                <span data-cost="{!Opportunity.WindowCost__c}" class="amount">
                  {!Opportunity.WindowCost__c}
                </span>
              </apex:outputText>
            </apex:outputPanel>
          </apex:column>
        </tr>
      </apex:pageBlockTable>

      <apex:pageBlockTable value="{!Opportunity}" var="opp" columnClasses="item, level, units, cost" rows="2">
        <tr>
          <apex:column styleClass="item" width="75">
            <apex:outputLabel value="Insulation:" />
          </apex:column>
          <apex:column styleClass="level" width="75">
            <apex:selectList value="{!Opportunity.Insulation__c}" size="1">
              <apex:actionSupport event="onchange" rerender="theInsulationCosts" />
              <apex:selectOption itemLabel="None" itemValue="0" />
              <apex:selectOption itemLabel="Low" itemValue="Low" />
              <apex:selectOption itemLabel="Medium" itemValue="Medium" />
              <apex:selectOption itemLabel="High" itemValue="High" />
            </apex:selectList>
          </apex:column>
          <apex:column styleClass="units" width="75">
          </apex:column>
          <apex:column styleClass="cost" width="75">
            <apex:outputPanel id="theInsulationCosts">
              <apex:outputText rendered="{!Opportunity.Insulation__c == 'None'}" value="$0" />
              <apex:outputText rendered="{!Opportunity.Insulation__c == 'Low'}" value="${0,number,#,##0}">
                  <apex:param value="{!ROUND(Opportunity.Sqft__c * 1.0,0)}" />
              </apex:outputText>
              <apex:outputText rendered="{!Opportunity.Insulation__c == 'Medium'}" value="${0,number,#,##0}">
                  <apex:param value="{!ROUND(Opportunity.Sqft__c * 3.0,0)}" />
              </apex:outputText>
              <apex:outputText rendered="{!Opportunity.Insulation__c == 'High'}" value="${0,number,#,##0}">
                  <apex:param value="{!ROUND(Opportunity.Sqft__c * 5.0,0)}" />
              </apex:outputText>
            </apex:outputPanel>
          </apex:column>
        </tr>
      </apex:pageBlockTable>
      
      <apex:pageBlockTable value="{!Opportunity}" var="opp" columnClasses="item, level, units, cost" rows="2">
        <tr>
          <apex:column styleClass="item" width="75">
            <apex:outputLabel value="Siding:" />
          </apex:column>
          <apex:column styleClass="level" width="75">
            <apex:selectList value="{!Opportunity.Siding__c}" size="1">
              <apex:actionSupport event="onchange" rerender="theSidingCosts" />
              <apex:selectOption itemLabel="None" itemValue="0" />
              <apex:selectOption itemLabel="Low" itemValue="Low" />
              <apex:selectOption itemLabel="Medium" itemValue="Medium" />
              <apex:selectOption itemLabel="High" itemValue="High" />
            </apex:selectList>
          </apex:column>
          <apex:column styleClass="units" width="75">
          </apex:column>
          <apex:column styleClass="cost" width="75">
            <apex:outputPanel id="theSidingCosts">
              <apex:outputText rendered="{!Opportunity.Siding__c == 'None'}" value="$0" />
              <apex:outputText rendered="{!Opportunity.Siding__c == 'Low'}" value="${0,number,#,##0}">
                  <apex:param value="{!ROUND(Opportunity.Sqft__c * 0.8,0)}" />
              </apex:outputText>
              <apex:outputText rendered="{!Opportunity.Siding__c == 'Medium'}" value="${0,number,#,##0}">
                  <apex:param value="{!ROUND(Opportunity.Sqft__c * 3.0,0)}" />
              </apex:outputText>
              <apex:outputText rendered="{!Opportunity.Siding__c == 'High'}" value="${0,number,#,##0}">
                  <apex:param value="{!ROUND(Opportunity.Sqft__c * 6.0,0)}" />
              </apex:outputText>
            </apex:outputPanel>
          </apex:column>
        </tr>
      </apex:pageBlockTable>
      
      <apex:pageBlockTable value="{!Opportunity}" var="opp" columnClasses="item, level, units, cost" rows="2">
        <tr>
          <apex:column styleClass="item" width="75">
            <apex:outputLabel value="Concrete:" />
          </apex:column>
          <apex:column styleClass="level" width="75">
            <apex:selectList value="{!Opportunity.Concrete__c}" size="1">
              <apex:actionSupport event="onchange" rerender="theConcreteCosts" />
              <apex:selectOption itemLabel="None" itemValue="0" />
              <apex:selectOption itemLabel="Low" itemValue="Low" />
              <apex:selectOption itemLabel="Medium" itemValue="Medium" />
              <apex:selectOption itemLabel="High" itemValue="High" />
            </apex:selectList>
          </apex:column>
          <apex:column styleClass="units" width="75">
          </apex:column>
          <apex:column styleClass="cost" width="75">
            <apex:outputPanel id="theConcreteCosts">
              <apex:outputText rendered="{!Opportunity.Concrete__c == 'None'}" value="$0" />
              <apex:outputText rendered="{!Opportunity.Concrete__c == 'Low'}" value="$1,500" />
              <apex:outputText rendered="{!Opportunity.Concrete__c == 'Medium'}" value="$4,000" />
              <apex:outputText rendered="{!Opportunity.Concrete__c == 'High'}" value="$10,000" />
            </apex:outputPanel>
          </apex:column>
        </tr>
      </apex:pageBlockTable>
      
      <apex:pageBlockTable value="{!Opportunity}" var="opp" columnClasses="item, level, units, cost" rows="2">
        <tr>
          <apex:column styleClass="item" width="75">
            <apex:outputLabel value="Electrical:" />
          </apex:column>
          <apex:column styleClass="level" width="75">
            <apex:selectList value="{!Opportunity.Electrical__c}" size="1">
              <apex:actionSupport event="onchange" rerender="theElectricalCosts" />
              <apex:selectOption itemLabel="None" itemValue="0" />
              <apex:selectOption itemLabel="Low" itemValue="Low" />
              <apex:selectOption itemLabel="Medium" itemValue="Medium" />
              <apex:selectOption itemLabel="High" itemValue="High" />
            </apex:selectList>
          </apex:column>
          <apex:column styleClass="units" width="75">
          </apex:column>
          <apex:column styleClass="cost" width="75">
            <apex:outputPanel id="theElectricalCosts">
              <apex:outputText rendered="{!Opportunity.Electrical__c == 'None'}" value="$0" />
              <apex:outputText rendered="{!Opportunity.Electrical__c == 'Low'}" value="${0,number,#,##0}">
                  <apex:param value="{!ROUND(Opportunity.Sqft__c * 2.0,0)}" />
              </apex:outputText>
              <apex:outputText rendered="{!Opportunity.Electrical__c == 'Medium'}" value="${0,number,#,##0}">
                  <apex:param value="{!ROUND(Opportunity.Sqft__c * 4.0,0)}" />
              </apex:outputText>
              <apex:outputText rendered="{!Opportunity.Electrical__c == 'High'}" value="${0,number,#,##0}">
                  <apex:param value="{!ROUND(Opportunity.Sqft__c * 9.0,0)}" />
              </apex:outputText>
            </apex:outputPanel>
          </apex:column>
        </tr>
      </apex:pageBlockTable>
      
      <apex:pageBlockTable value="{!Opportunity}" var="opp" columnClasses="item, level, units, cost" rows="2">
        <tr>
          <apex:column styleClass="item" width="75">
            <apex:outputLabel value="Plumbing:" />
          </apex:column>
          <apex:column styleClass="level" width="75">
            <apex:selectList value="{!Opportunity.Plumbing__c}" size="1">
              <apex:actionSupport event="onchange" rerender="thePlumbingCosts" />
              <apex:selectOption itemLabel="None" itemValue="0" />
              <apex:selectOption itemLabel="Low" itemValue="Low" />
              <apex:selectOption itemLabel="Medium" itemValue="Medium" />
              <apex:selectOption itemLabel="High" itemValue="High" />
            </apex:selectList>
          </apex:column>
          <apex:column styleClass="units" width="75">
          </apex:column>
          <apex:column styleClass="cost" width="75">
            <apex:outputPanel id="thePlumbingCosts">
              <apex:outputText rendered="{!Opportunity.Plumbing__c == 'None'}" value="$0" />
              <apex:outputText rendered="{!Opportunity.Plumbing__c == 'Low'}" value="${0,number,#,##0}">
                  <apex:param value="{!ROUND(Opportunity.Sqft__c * 1.25,0)}" />
              </apex:outputText>
              <apex:outputText rendered="{!Opportunity.Plumbing__c == 'Medium'}" value="${0,number,#,##0}">
                  <apex:param value="{!ROUND(Opportunity.Sqft__c * 2.5,0)}" />
              </apex:outputText>
              <apex:outputText rendered="{!Opportunity.Plumbing__c == 'High'}" value="${0,number,#,##0}">
                  <apex:param value="{!ROUND(Opportunity.Sqft__c * 4.5,0)}" />
              </apex:outputText>
            </apex:outputPanel>
          </apex:column>
        </tr>
      </apex:pageBlockTable>
      
      <apex:pageBlockTable value="{!Opportunity}" var="opp" columnClasses="item, level, units, cost" rows="2">
        <tr>
          <apex:column styleClass="item" width="75">
            <apex:outputLabel value="Framing:" />
          </apex:column>
          <apex:column styleClass="level" width="75">
            <apex:selectList value="{!Opportunity.Framing__c}" size="1">
              <apex:actionSupport event="onchange" rerender="theFramingCosts" />
              <apex:selectOption itemLabel="None" itemValue="0" />
              <apex:selectOption itemLabel="Low" itemValue="Low" />
              <apex:selectOption itemLabel="Medium" itemValue="Medium" />
              <apex:selectOption itemLabel="High" itemValue="High" />
            </apex:selectList>
          </apex:column>
          <apex:column styleClass="units" width="75">
          </apex:column>
          <apex:column styleClass="cost" width="75">
            <apex:outputPanel id="theFramingCosts">
              <apex:outputText rendered="{!Opportunity.Framing__c == 'None'}" value="$0" />
              <apex:outputText rendered="{!Opportunity.Framing__c == 'Low'}" value="${0,number,#,##0}">
                  <apex:param value="{!ROUND(Opportunity.Sqft__c * 2.5,0)}" />
              </apex:outputText>
              <apex:outputText rendered="{!Opportunity.Framing__c == 'Medium'}" value="${0,number,#,##0}">
                  <apex:param value="{!ROUND(Opportunity.Sqft__c * 5.0,0)}" />
              </apex:outputText>
              <apex:outputText rendered="{!Opportunity.Framing__c == 'High'}" value="${0,number,#,##0}">
                  <apex:param value="{!ROUND(Opportunity.Sqft__c * 10.0,0)}" />
              </apex:outputText>
            </apex:outputPanel>
          </apex:column>
        </tr>
      </apex:pageBlockTable>
      
      <apex:pageBlockTable value="{!Opportunity}" var="opp" columnClasses="item, level, units, cost" rows="2">
        <tr>
          <apex:column styleClass="item" width="75">
            <apex:outputLabel value="Sheetrock:" />
          </apex:column>
          <apex:column styleClass="level" width="75">
            <apex:selectList value="{!Opportunity.Sheetrock__c}" size="1">
              <apex:actionSupport event="onchange" rerender="theSheetRockCosts" />
              <apex:selectOption itemLabel="None" itemValue="0" />
              <apex:selectOption itemLabel="Low" itemValue="Low" />
              <apex:selectOption itemLabel="Medium" itemValue="Medium" />
              <apex:selectOption itemLabel="High" itemValue="High" />
            </apex:selectList>
          </apex:column>
          <apex:column styleClass="units" width="75">
          </apex:column>
          <apex:column styleClass="cost" width="75">
            <apex:outputPanel id="theSheetRockCosts">
              <apex:outputText rendered="{!Opportunity.Sheetrock__c == 'None'}" value="$0" />
              <apex:outputText rendered="{!Opportunity.Sheetrock__c == 'Low'}" value="${0,number,#,##0}">
                  <apex:param value="{!ROUND(Opportunity.Sqft__c * 1.5,0)}" />
              </apex:outputText>
              <apex:outputText rendered="{!Opportunity.Sheetrock__c == 'Medium'}" value="${0,number,#,##0}">
                  <apex:param value="{!ROUND(Opportunity.Sqft__c * 3.0,0)}" />
              </apex:outputText>
              <apex:outputText rendered="{!Opportunity.Sheetrock__c == 'High'}" value="${0,number,#,##0}">
                  <apex:param value="{!ROUND(Opportunity.Sqft__c * 6.0,0)}" />
              </apex:outputText>
            </apex:outputPanel>
          </apex:column>
        </tr>
      </apex:pageBlockTable>
      
      <apex:pageBlockTable value="{!Opportunity}" var="opp" columnClasses="item, level, units, cost" rows="2">
        <tr>
          <apex:column styleClass="item" width="75">
            <apex:outputLabel value="Flooring:" />
          </apex:column>
          <apex:column styleClass="level" width="75">
            <apex:selectList value="{!Opportunity.Flooring__c}" size="1">
              <apex:actionSupport event="onchange" rerender="theFlooringCosts" />
              <apex:selectOption itemLabel="None" itemValue="0" />
              <apex:selectOption itemLabel="Low" itemValue="Low" />
              <apex:selectOption itemLabel="Medium" itemValue="Medium" />
              <apex:selectOption itemLabel="High" itemValue="High" />
            </apex:selectList>
          </apex:column>
          <apex:column styleClass="units" width="75">
          </apex:column>
          <apex:column styleClass="cost" width="75">
            <apex:outputPanel id="theFlooringCosts">
              <apex:outputText rendered="{!Opportunity.Flooring__c == 'None'}" value="$0" />
              <apex:outputText rendered="{!Opportunity.Flooring__c == 'Low'}" value="${0,number,#,##0}">
                  <apex:param value="{!ROUND(Opportunity.Sqft__c * 3.0,0)}" />
              </apex:outputText>
              <apex:outputText rendered="{!Opportunity.Flooring__c == 'Medium'}" value="${0,number,#,##0}">
                  <apex:param value="{!ROUND(Opportunity.Sqft__c * 9.0,0)}" />
              </apex:outputText>
              <apex:outputText rendered="{!Opportunity.Flooring__c == 'High'}" value="${0,number,#,##0}">
                  <apex:param value="{!ROUND(Opportunity.Sqft__c * 15.0,0)}" />
              </apex:outputText>
            </apex:outputPanel>
          </apex:column>
        </tr>
      </apex:pageBlockTable>
      
      <apex:pageBlockTable value="{!Opportunity}" var="opp" columnClasses="item, level, units, cost" rows="2">
        <tr>
          <apex:column styleClass="item" width="75">
            <apex:outputLabel value="Kitchen:" />
          </apex:column>
          <apex:column styleClass="level" width="75">
            <apex:selectList value="{!Opportunity.Kitchen__c}" size="1">
              <apex:actionSupport event="onchange" rerender="theKitchenCosts" />
              <apex:selectOption itemLabel="None" itemValue="0" />
              <apex:selectOption itemLabel="Low" itemValue="Low" />
              <apex:selectOption itemLabel="Medium" itemValue="Medium" />
              <apex:selectOption itemLabel="High" itemValue="High" />
            </apex:selectList>
          </apex:column>
          <apex:column styleClass="units" width="75">
          </apex:column>
          <apex:column styleClass="cost" width="75">
            <apex:outputPanel id="theKitchenCosts">
              <apex:outputText rendered="{!Opportunity.Kitchen__c == 'None'}" value="$0" />
              <apex:outputText rendered="{!Opportunity.Kitchen__c == 'Low'}" value="$7,000" />
              <apex:outputText rendered="{!Opportunity.Kitchen__c == 'Medium'}" value="$15,000" />
              <apex:outputText rendered="{!Opportunity.Kitchen__c == 'High'}" value="$25,000" />
            </apex:outputPanel>
          </apex:column>
        </tr>
      </apex:pageBlockTable>
      
      <apex:pageBlockTable value="{!Opportunity}" var="opp" columnClasses="item, level, units, cost" rows="2">
        <tr>
          <apex:column styleClass="item" width="75">
            <apex:outputLabel value="Bath:" />
          </apex:column>
          <apex:column styleClass="level" width="75">
            <apex:selectList value="{!Opportunity.Baths__c}" size="1">
              <apex:actionSupport event="onchange" rerender="theBathCosts" />
              <apex:selectOption itemLabel="None" itemValue="0" />
              <apex:selectOption itemLabel="Low" itemValue="Low" />
              <apex:selectOption itemLabel="Medium" itemValue="Medium" />
              <apex:selectOption itemLabel="High" itemValue="High" />
            </apex:selectList>
          </apex:column>
          <apex:column styleClass="units" width="75">
          </apex:column>
          <apex:column styleClass="cost" width="75">
            <apex:outputPanel id="theBathCosts">
              <apex:outputText rendered="{!Opportunity.Baths__c == 'None'}" value="$0" />
              <apex:outputText rendered="{!Opportunity.Baths__c == 'Low'}" value="${0,number,#,##0}">
                  <apex:param value="{!ROUND(VALUE(Opportunity.Bath__c) * 2500.0,0)}" />
              </apex:outputText>
              <apex:outputText rendered="{!Opportunity.Baths__c == 'Medium'}" value="${0,number,#,##0}">
                  <apex:param value="{!ROUND(VALUE(Opportunity.Bath__c) * 5000.0,0)}" />
              </apex:outputText>
              <apex:outputText rendered="{!Opportunity.Baths__c == 'High'}" value="${0,number,#,##0}">
                  <apex:param value="{!ROUND(VALUE(Opportunity.Bath__c) * 10000.0,0)}" />
              </apex:outputText>
            </apex:outputPanel>
          </apex:column>
        </tr>
      </apex:pageBlockTable>
      
      <apex:pageBlockTable value="{!Opportunity}" var="opp" columnClasses="item, level, units, cost" rows="2">
        <tr>
          <apex:column styleClass="item" width="75">
            <apex:outputLabel value="Interior Paint:" />
          </apex:column>
          <apex:column styleClass="level" width="75">
            <apex:selectList value="{!Opportunity.Interior_Paint__c}" size="1">
              <apex:actionSupport event="onchange" rerender="theInteriorPaintCosts" />
              <apex:selectOption itemLabel="None" itemValue="0" />
              <apex:selectOption itemLabel="Low" itemValue="Low" />
              <apex:selectOption itemLabel="Medium" itemValue="Medium" />
              <apex:selectOption itemLabel="High" itemValue="High" />
            </apex:selectList>
          </apex:column>
          <apex:column styleClass="units" width="75">
          </apex:column>
          <apex:column styleClass="cost" width="75">
            <apex:outputPanel id="theInteriorPaintCosts">
              <apex:outputText rendered="{!Opportunity.Interior_Paint__c == 'None'}" value="$0" />
              <apex:outputText rendered="{!Opportunity.Interior_Paint__c == 'Low'}" value="${0,number,#,##0}">
                  <apex:param value="{!ROUND(Opportunity.Sqft__c * 2.0,0)}" />
              </apex:outputText>
              <apex:outputText rendered="{!Opportunity.Interior_Paint__c == 'Medium'}" value="${0,number,#,##0}">
                  <apex:param value="{!ROUND(Opportunity.Sqft__c * 3.5,0)}" />
              </apex:outputText>
              <apex:outputText rendered="{!Opportunity.Interior_Paint__c == 'High'}" value="${0,number,#,##0}">
                  <apex:param value="{!ROUND(Opportunity.Sqft__c * 4.5,0)}" />
              </apex:outputText>
            </apex:outputPanel>
          </apex:column>
        </tr>
      </apex:pageBlockTable>
      
      <apex:pageBlockTable value="{!Opportunity}" var="opp" columnClasses="item, level, units, cost" rows="2">
        <tr>
          <apex:column styleClass="item" width="75">
            <apex:outputLabel value="Exterior Paint:" />
          </apex:column>
          <apex:column styleClass="level" width="75">
            <apex:selectList value="{!Opportunity.Exterior_Paint__c}" size="1">
              <apex:actionSupport event="onchange" rerender="theExteriorPaintCosts" />
              <apex:selectOption itemLabel="None" itemValue="0" />
              <apex:selectOption itemLabel="Low" itemValue="Low" />
              <apex:selectOption itemLabel="Medium" itemValue="Medium" />
              <apex:selectOption itemLabel="High" itemValue="High" />
            </apex:selectList>
          </apex:column>
          <apex:column styleClass="units" width="75">
          </apex:column>
          <apex:column styleClass="cost" width="75">
            <apex:outputPanel id="theExteriorPaintCosts">
              <apex:outputText rendered="{!Opportunity.Exterior_Paint__c == 'None'}" value="$0" />
              <apex:outputText rendered="{!Opportunity.Exterior_Paint__c == 'Low'}" value="${0,number,#,##0}">
                  <apex:param value="{!ROUND(Opportunity.Sqft__c * 1.75,0)}" />
              </apex:outputText>
              <apex:outputText rendered="{!Opportunity.Exterior_Paint__c == 'Medium'}" value="${0,number,#,##0}">
                  <apex:param value="{!ROUND(Opportunity.Sqft__c * 3.0,0)}" />
              </apex:outputText>
              <apex:outputText rendered="{!Opportunity.Exterior_Paint__c == 'High'}" value="${0,number,#,##0}">
                  <apex:param value="{!ROUND(Opportunity.Sqft__c * 4.0,0)}" />
              </apex:outputText>
            </apex:outputPanel>
          </apex:column>
        </tr>
      </apex:pageBlockTable>
      
      <apex:pageBlockTable value="{!Opportunity}" var="opp" columnClasses="item, level, units, cost" rows="2">
        <tr>
          <apex:column styleClass="item" width="75">
            <apex:outputLabel value="Interior Doors:" />
          </apex:column>
          <apex:column styleClass="level" width="75">
            <apex:selectList value="{!Opportunity.Interior_Doors__c}" size="1">
              <apex:actionSupport event="onchange" rerender="theInteriorDoorCosts" />
              <apex:selectOption itemLabel="None" itemValue="0" />
              <apex:selectOption itemLabel="Low" itemValue="Low" />
              <apex:selectOption itemLabel="Medium" itemValue="Medium" />
              <apex:selectOption itemLabel="High" itemValue="High" />
            </apex:selectList>
          </apex:column>
          <apex:column styleClass="units" width="75">
            <apex:inputText value="{!Opportunity.Interior_Doors__c}" size="3" onchange="updateCost(this);" />
          </apex:column>
          <apex:column styleClass="cost" width="75">
            <apex:outputPanel id="theInteriorDoorCosts">
              <apex:outputText value="{!Opportunity.InteriorDoorCost__c}">
                <span data-cost="{!Opportunity.InteriorDoorCost__c}" class="amount">
                    {!Opportunity.InteriorDoorCost__c}
                </span>
              </apex:outputText>
            </apex:outputPanel>
          </apex:column>
        </tr>
      </apex:pageBlockTable>
      
      <apex:pageBlockTable value="{!Opportunity}" var="opp" columnClasses="item, level, units, cost" rows="2">
        <tr>
          <apex:column styleClass="item" width="75">
            <apex:outputLabel value="Exterior Doors:" />
          </apex:column>
          <apex:column styleClass="level" width="75">
            <apex:selectList value="{!Opportunity.Exterior_Doors__c}" size="1">
              <apex:actionSupport event="onchange" rerender="theExteriorDoorCosts" />
              <apex:selectOption itemLabel="None" itemValue="0" />
              <apex:selectOption itemLabel="Low" itemValue="Low" />
              <apex:selectOption itemLabel="Medium" itemValue="Medium" />
              <apex:selectOption itemLabel="High" itemValue="High" />
            </apex:selectList>
          </apex:column>
          <apex:column styleClass="units" width="75">
            <apex:inputText value="{!Opportunity.Exterior_Doors__c}" size="3" onchange="updateCost(this);" />
          </apex:column>
          <apex:column styleClass="cost" width="75">
            <apex:outputPanel id="theExteriorDoorCosts">
              <apex:outputText value="{!Opportunity.ExteriorDoorCost__c}">
                <span data-cost="{!Opportunity.ExteriorDoorCost__c}" class="amount">
                    {!Opportunity.ExteriorDoorCost__c}
                </span>
              </apex:outputText>
            </apex:outputPanel>
          </apex:column>
        </tr>
      </apex:pageBlockTable>
      
      <apex:pageBlockTable value="{!Opportunity}" var="opp" columnClasses="item, level, units, cost" rows="2">
        <tr>
          <apex:column styleClass="item" width="75">
            <apex:outputLabel value="Garage Doors:" />
          </apex:column>
          <apex:column styleClass="level" width="75">
            <apex:selectList value="{!Opportunity.Garage_Doors__c}" size="1">
              <apex:actionSupport event="onchange" rerender="theGarageDoorCosts" />
              <apex:selectOption itemLabel="None" itemValue="0" />
              <apex:selectOption itemLabel="Low" itemValue="Low" />
              <apex:selectOption itemLabel="Medium" itemValue="Medium" />
              <apex:selectOption itemLabel="High" itemValue="High" />
            </apex:selectList>
          </apex:column>
          <apex:column styleClass="units" width="75">
          </apex:column>
          <apex:column styleClass="cost" width="75">
            <apex:outputPanel id="theGarageDoorCosts">
              <apex:outputText rendered="{!Opportunity.Garage_Doors__c == 'None'}" value="$0" />
              <apex:outputText rendered="{!Opportunity.Garage_Doors__c == 'Low'}" value="${0,number,#,##0}">
                  <apex:param value="{!ROUND(Opportunity.Garage__c * 800.0,0)}" />
              </apex:outputText>
              <apex:outputText rendered="{!Opportunity.Garage_Doors__c == 'Medium'}" value="${0,number,#,##0}">
                  <apex:param value="{!ROUND(Opportunity.Garage__c * 1200.0,0)}" />
              </apex:outputText>
              <apex:outputText rendered="{!Opportunity.Garage_Doors__c == 'High'}" value="${0,number,#,##0}">
                  <apex:param value="{!ROUND(Opportunity.Garage__c * 2000.0,0)}" />
              </apex:outputText>
            </apex:outputPanel>
          </apex:column>
        </tr>
      </apex:pageBlockTable>
      
      <apex:pageBlockTable value="{!Opportunity}" var="opp" columnClasses="item, level, units, cost" rows="2">
        <tr>
          <apex:column styleClass="item" width="75">
            <apex:outputLabel value="Landscaping:" />
          </apex:column>
          <apex:column styleClass="level" width="75">
            <apex:selectList value="{!Opportunity.Landscape__c}" size="1">
              <apex:actionSupport event="onchange" rerender="theLandscapingCosts" />
              <apex:selectOption itemLabel="None" itemValue="0" />
              <apex:selectOption itemLabel="Low" itemValue="Low" />
              <apex:selectOption itemLabel="Medium" itemValue="Medium" />
              <apex:selectOption itemLabel="High" itemValue="High" />
            </apex:selectList>
          </apex:column>
          <apex:column styleClass="units" width="75">
          </apex:column>
          <apex:column styleClass="cost" width="75">
            <apex:outputPanel id="theLandscapingCosts">
              <apex:outputText rendered="{!Opportunity.Landscape__c == 'None'}" value="$0" />
              <apex:outputText rendered="{!Opportunity.Landscape__c == 'Low'}" value="$2,000" />
              <apex:outputText rendered="{!Opportunity.Landscape__c == 'Medium'}" value="$5,000" />
              <apex:outputText rendered="{!Opportunity.Landscape__c == 'High'}" value="$10,000" />
            </apex:outputPanel>
          </apex:column>
        </tr>
      </apex:pageBlockTable>
      
      <apex:pageBlockTable value="{!Opportunity}" var="opp" columnClasses="item, level, units, cost" rows="2">
        <tr>
          <apex:column styleClass="item" width="75">
            <apex:outputLabel value="Miscellaneous:" />
          </apex:column>
          <apex:column styleClass="level" width="75">
            <apex:selectList value="{!Opportunity.Miscellaneous__c}" size="1">
              <apex:actionSupport event="onchange" rerender="theMiscellaneousCosts" />
              <apex:selectOption itemLabel="None" itemValue="0" />
              <apex:selectOption itemLabel="Low" itemValue="Low" />
              <apex:selectOption itemLabel="Medium" itemValue="Medium" />
              <apex:selectOption itemLabel="High" itemValue="High" />
            </apex:selectList>
          </apex:column>
          <apex:column styleClass="units" width="75">
          </apex:column>
          <apex:column styleClass="cost" width="75">
            <apex:outputPanel id="theMiscellaneousCosts">
              <apex:outputText rendered="{!Opportunity.Miscellaneous__c == 'None'}" value="$0" />
              <apex:outputText rendered="{!Opportunity.Miscellaneous__c == 'Low'}" value="$5,000" />
              <apex:outputText rendered="{!Opportunity.Miscellaneous__c == 'Medium'}" value="$8,000" />
              <apex:outputText rendered="{!Opportunity.Miscellaneous__c == 'High'}" value="$10,000" />
           </apex:outputPanel>
          </apex:column>
        </tr>
      </apex:pageBlockTable>
      
      <apex:pageBlockTable value="{!Opportunity}" var="opp" columnClasses="item, level, units, cost" rows="2">
        <tr>
          <apex:column styleClass="item" width="75">
          </apex:column>
          <apex:column styleClass="level" width="75">
          </apex:column>
          <apex:column style="text-align: right" width="75">
              <apex:outputLabel value="Total:"/>
          </apex:column>
          <apex:column styleClass="cost" width="75">
            <apex:outputPanel id="totalCostPanel">
              <apex:outputText value="Total_Rehab__c"
              </apex:outputText>
            </apex:outputPanel>
            <apex:actionSupport event="onchange" rerender="totalCostPanel" />
          </apex:column>
        </tr>
      </apex:pageBlockTable>
    </apex:pageBlock>
  </apex:form>
<script>
    function updateCost(input) {
      var row = input.closest('tr');
      var costColumn = row.querySelector('.cost .amount');
      var picklistValue = row.querySelector('.level select').value;
      var windowUnits = row.querySelector('.units input').value;
      if (picklistValue == 'None') {
        costColumn.innerHTML = '$0.00';
      } else if (picklistValue == 'Low') {
        costColumn.innerHTML = '$' + (windowUnits * 400).toLocaleString(undefined, {maximumFractionDigits: 2});
      } else if (picklistValue == 'Medium') {
        costColumn.innerHTML = '$' + (windowUnits * 800).toLocaleString(undefined, {maximumFractionDigits: 2});
      } else if (picklistValue == 'High') {
        costColumn.innerHTML = '$' + (windowUnits * 1200).toLocaleString(undefined, {maximumFractionDigits: 2});
      }
    }
</script>
<script>
    function updateCost(input) {
      var row = input.closest('tr');
      var costColumn = row.querySelector('.cost .amount');
      var picklistValue = row.querySelector('.level select').value;
      var interiorDoors = row.querySelector('.units input').value;
      if (picklistValue == 'None') {
        costColumn.innerHTML = '$0.00';
      } else if (picklistValue == 'Low') {
        costColumn.innerHTML = '$' + (interiorDoors * 200).toLocaleString(undefined, {maximumFractionDigits: 2});
      } else if (picklistValue == 'Medium') {
        costColumn.innerHTML = '$' + (interiorDoors * 250).toLocaleString(undefined, {maximumFractionDigits: 2});
      } else if (picklistValue == 'High') {
        costColumn.innerHTML = '$' + (interiorDoors * 350).toLocaleString(undefined, {maximumFractionDigits: 2});
      }
    }
</script>
<script>
    function updateCost(input) {
      var row = input.closest('tr');
      var costColumn = row.querySelector('.cost .amount');
      var picklistValue = row.querySelector('.level select').value;
      var exteriorDoors = row.querySelector('.units input').value;
      if (picklistValue == 'None') {
        costColumn.innerHTML = '$0.00';
      } else if (picklistValue == 'Low') {
        costColumn.innerHTML = '$' + (exteriorDoors * 800).toLocaleString(undefined, {maximumFractionDigits: 2});
      } else if (picklistValue == 'Medium') {
        costColumn.innerHTML = '$' + (exteriorDoors * 1200).toLocaleString(undefined, {maximumFractionDigits: 2});
      } else if (picklistValue == 'High') {
        costColumn.innerHTML = '$' + (exteriorDoors * 3500).toLocaleString(undefined, {maximumFractionDigits: 2});
      }
    }
</script>
</apex:page>
